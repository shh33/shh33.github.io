<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/yaya48.ico?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/image/yaya.ico?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/yaya16.ico?v=7.3.0">
  <link rel="mask-icon" href="/images/yaya48.ico?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    }
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="shh33">
<meta property="og:url" content="https://shh33.github.io/index.html">
<meta property="og:site_name" content="shh33">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="shh33">
  <link rel="canonical" href="https://shh33.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>shh33</title>
  <meta name="generator" content="Hexo 3.9.0">
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">shh33</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>时间轴</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
      </li>
    
  </ul>

    

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-wrapper">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content page-home">
            
  <section id="posts" class="posts-expand">
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/12/23/leaflet的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/12/23/leaflet的使用/" class="post-title-link" itemprop="url">leaflet的使用</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-12-23 14:22:14 / 修改时间：16:04:39" itemprop="dateCreated datePublished" datetime="2019-12-23T14:22:14+08:00">2019-12-23</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/leaflet/" itemprop="url" rel="index"><span itemprop="name">leaflet</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>需要引入几个必要的文件</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"/css/leaflet.css"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"/js/jquery-1.11.3.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script src=<span class="string">"/js/leaflet-src.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script src=<span class="string">"/js/leaflet.label-src.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建一个容器</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"map"</span> <span class="attr">id</span>=<span class="string">"map"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>编写js文件</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//切片图层地址</span></span><br><span class="line"><span class="keyword">var</span> serviceLink=<span class="string">"http://112.17.127.75:8008/arcgis/rest/services/"</span>;</span><br><span class="line"><span class="comment">//设置地图边界</span></span><br><span class="line"><span class="keyword">var</span> topleftbound = L.latLng(<span class="number">30.094642639160156</span>,<span class="number">122.05793380737305</span>),</span><br><span class="line">       rightbottombound = L.latLng(<span class="number">29.900836944580078</span>,<span class="number">122.30701446533203</span>),</span><br><span class="line">       bounds = L.latLngBounds(topleftbound,rightbottombound);</span><br><span class="line"><span class="comment">//地图初始化，设定地图最低层级</span></span><br><span class="line"><span class="keyword">var</span> _map;</span><br><span class="line">   _map= <span class="keyword">new</span> L.Map(<span class="string">'map'</span>,&#123;<span class="attr">zoom</span>: <span class="number">13</span> ,<span class="attr">closePopupOnClick</span>:<span class="literal">false</span>,<span class="attr">crs</span>:L.CRS.EPSG4326,<span class="attr">zoomAnimation</span>:<span class="literal">true</span>,<span class="attr">minZoom</span>:<span class="number">0</span>,<span class="attr">maxZoom</span>:<span class="number">18</span>,<span class="attr">zoomControl</span>:<span class="literal">false</span>,<span class="attr">maxBounds</span>:bounds&#125;);</span><br><span class="line"><span class="comment">//影像地图图层</span></span><br><span class="line"><span class="keyword">var</span> _baseImgLayer = <span class="keyword">new</span> L.tileLayer(<span class="string">'http://t&#123;s&#125;.tianditu.gov.cn/DataServer?T=img_c&amp;X=&#123;x&#125;&amp;Y=&#123;y&#125;&amp;L=&#123;z&#125;&amp;tk=434967d31e3d3f9d396b2f4c4250b023'</span>,&#123;<span class="attr">subdomains</span>:[<span class="number">0</span>,<span class="number">1</span>,	<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]&#125;);</span><br><span class="line"><span class="comment">//文字地图图层</span></span><br><span class="line"><span class="keyword">var</span> _baseTxtLayer = <span class="keyword">new</span> L.tileLayer(<span class="string">'http://t&#123;s&#125;.tianditu.gov.cn/DataServer?T=cva_c&amp;X=&#123;x&#125;&amp;Y=&#123;y&#125;&amp;L=&#123;z&#125;&amp;tk=434967d31e3d3f9d396b2f4c4250b023'</span>,&#123;<span class="attr">subdomains</span>:[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]&#125;);</span><br><span class="line"><span class="comment">//将图层加入到地图中去</span></span><br><span class="line">_baseImgLayer.addTo(_map);</span><br><span class="line">_baseTxtLayer.addTo(_map);</span><br><span class="line"><span class="comment">//设置地图中心点为北京</span></span><br><span class="line"><span class="comment">//_map.setView(new L.LatLng(39.905,116.399), 13);</span></span><br><span class="line"><span class="comment">//设置中心点封装方法</span></span><br><span class="line">setCenter(<span class="number">39.905</span>,<span class="number">116.399</span>,<span class="number">13</span>);</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">setCenter</span>(<span class="params">centerLat, centerLon,zoom</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (_map != <span class="literal">null</span>) _map.setView(<span class="keyword">new</span> L.LatLng(centerLat, centerLon),  zoom);</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//加载背景切片图层</span></span><br><span class="line">   _bjLayer = <span class="keyword">new</span> L.tileLayer(serviceLink+<span class="string">'pinghuPolderArea/MapServer/tile/&#123;z&#125;/&#123;y&#125;/&#123;x&#125;'</span>, &#123;<span class="attr">subdomains</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]&#125;);</span><br><span class="line">   _bjLayer.addTo(_map);</span><br><span class="line"><span class="comment">//根据鼠标点击获取经纬度</span></span><br><span class="line">   _map.on(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e);</span><br><span class="line">      <span class="built_in">console</span>.log(e.latlng.lat+<span class="string">"/"</span>+e.latlng.lng)</span><br><span class="line">   &#125;)</span><br><span class="line"><span class="comment">//featureGroup是LayerGroup的扩展，但多了鼠标事件和共享的弹出框方法。继承自ILayer接口。</span></span><br><span class="line">pointLayers = <span class="keyword">new</span> L.featureGroup([]);</span><br><span class="line">   _map.addLayer(pointLayers);</span><br><span class="line"><span class="comment">//添加图标</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">addIco</span> (<span class="params">lat,lng,text,data</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> textIcon = L.divIcon(&#123;</span><br><span class="line">           html: <span class="string">"&lt;img class='reservoirlicon' id='"</span>+data+<span class="string">"' src='images/icon/水库.png'&gt;&lt;p class='lableText'&gt;"</span>+text+<span class="string">"&lt;/p&gt;"</span>,</span><br><span class="line">           className: <span class="string">'mcon'</span>,</span><br><span class="line">           iconSize:<span class="number">60</span></span><br><span class="line">       &#125;);</span><br><span class="line">       L.marker([lat,lng], &#123;<span class="attr">icon</span>: textIcon&#125;).addTo(pointLayers);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/10/30/每日一题-原生实现indexOf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/30/每日一题-原生实现indexOf/" class="post-title-link" itemprop="url">每日一题-原生实现indexOf</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-30 11:14:49" itemprop="dateCreated datePublished" datetime="2019-10-30T11:14:49+08:00">2019-10-30</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">indexOf</span>(<span class="params">arr, item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.prototype.indexOf)&#123;   <span class="comment">//判断当前浏览器是否支持</span></span><br><span class="line">      <span class="keyword">return</span> arr.indexOf(item);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)&#123;</span><br><span class="line">          <span class="keyword">if</span> (arr[i] === item)&#123;</span><br><span class="line">              <span class="keyword">return</span> i;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;     </span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;     <span class="comment">//总是把return -1暴漏在最外层</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/10/24/vue-router相关知识点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/24/vue-router相关知识点/" class="post-title-link" itemprop="url">vue-router相关知识点</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-24 16:10:36" itemprop="dateCreated datePublished" datetime="2019-10-24T16:10:36+08:00">2019-10-24</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="关于vue-router的一下知识点总结"><a href="#关于vue-router的一下知识点总结" class="headerlink" title="关于vue-router的一下知识点总结"></a>关于vue-router的一下知识点总结</h2><ol>
<li>关于路由跳转<ol>
<li>1 要点导包</li>
<li>2 配置路径</li>
</ol>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Clithree <span class="keyword">from</span> <span class="string">'@/components/Clithree'</span></span><br><span class="line"><span class="keyword">import</span> Index <span class="keyword">from</span> <span class="string">'@/components/Index'</span></span><br><span class="line"><span class="keyword">import</span> Three <span class="keyword">from</span> <span class="string">'@/components/Three'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Index'</span>,</span><br><span class="line">      component: Index</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/a'</span>,</span><br><span class="line">      name: <span class="string">'Clithree'</span>,</span><br><span class="line">      component: Clithree</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>关于配置子路由</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      path: <span class="string">'/a'</span>,</span><br><span class="line">      name: <span class="string">'Clithree'</span>,</span><br><span class="line">      component: Clithree,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">'/a1'</span>,</span><br><span class="line">          name: <span class="string">'Three'</span>,</span><br><span class="line">          component: Three</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>页面上跳转</p>
<p>使用<code>touter-link</code>标签</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>index<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>关于地址的研究</p>
<p>4.1 去除#号（微信支付相关的地方#会冲突 但是页面不存在会报404）</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>, <span class="comment">//hash</span></span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Index'</span>,</span><br><span class="line">      component: Index</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/a'</span>,</span><br><span class="line">      name: <span class="string">'Clithree'</span>,</span><br><span class="line">      component: Clithree,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/images/1571905361513.png" alt="1571905361513"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/10/17/关于bootstrap-table的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/17/关于bootstrap-table的使用/" class="post-title-link" itemprop="url">关于bootstrap-table的使用</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-17 16:58:57" itemprop="dateCreated datePublished" datetime="2019-10-17T16:58:57+08:00">2019-10-17</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/bootstrap/" itemprop="url" rel="index"><span itemprop="name">bootstrap</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<ol>
<li>需要注意必需文件引入顺序</li>
<li>注意jQuery版本会导致图标不显示的问题</li>
<li>中文table要放在bootstrap-tablew.js文件下面</li>
</ol>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;link rel="stylesheet" href="./css/bootstrap.css"&gt;</span></span><br><span class="line"><span class="comment">&lt;link rel="stylesheet" href="./bootstrap-table-master/dist/bootstrap-table.min.css"&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"</span> <span class="attr">integrity</span>=<span class="string">"sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://use.fontawesome.com/releases/v5.6.3/css/all.css"</span> <span class="attr">integrity</span>=<span class="string">"sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/bootstrap-table@1.15.3/dist/bootstrap-table.min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">#table1&#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    /* height: 800px; */</span><br><span class="line">    border: 1px solid #f40;</span><br><span class="line">&#125;</span><br><span class="line">#table1 &gt; thead th &#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">    background-color: #d9edf7;</span><br><span class="line">&#125;</span><br><span class="line">#table1 tr:nth-child(even)&#123;</span><br><span class="line">background:#f4f8fb;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page-table"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"table1"</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fixed-table-pagination"</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pull-right pagination-detail"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"pagination-info"</span>&gt;</span>显示第 1 到第 <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 条记录，总共<span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 条记录<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script src="./js/jquery-1.12.4.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">&lt;script src="./js/bootstrap.min.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">&lt;script src="./bootstrap-table-master/dist/bootstrap-table.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;script src="./bootstrap-table-master/dist/locale/bootstrap-table-zh-CN.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://code.jquery.com/jquery-3.3.1.min.js"</span> <span class="attr">integrity</span>=<span class="string">"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"</span> <span class="attr">integrity</span>=<span class="string">"sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"</span> <span class="attr">integrity</span>=<span class="string">"sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/bootstrap-table@1.15.3/dist/bootstrap-table.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./bootstrap-table-master/dist/locale/bootstrap-table-zh-CN.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//表格</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> data=[&#123;</span></span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"未完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"未完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"张三"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line"><span class="javascript">        <span class="string">"task"</span>:<span class="string">"水库日常巡查"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"problemType"</span>:<span class="string">"电话举报"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"arranger"</span>:<span class="string">"陈超"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"patrols"</span>:<span class="string">"文湘"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"beginTime"</span>:<span class="string">"2018-08-26"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"endTime"</span>:<span class="string">"2018-08-27"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="string">"taskState"</span>:<span class="string">"已完成"</span></span></span><br><span class="line">    &#125;];</span><br><span class="line"><span class="javascript">    $(<span class="string">".pagination-info i"</span>).text(data.length);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">loadTableData</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#table1"</span>).bootstrapTable(<span class="string">"destroy"</span>);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#table1"</span>).bootstrapTable(&#123;</span></span><br><span class="line"><span class="javascript">            url:<span class="string">""</span>,             <span class="comment">//请求后台的路径</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// ajaxOptions:&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     headers: &#123;"authorization": $localStorage("token")||getQueryString("token")&#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">            method: <span class="string">'get'</span>,      <span class="comment">//请求方式</span></span></span><br><span class="line"><span class="javascript">            striped: <span class="literal">false</span>,      <span class="comment">//是否显示行间隔色</span></span></span><br><span class="line"><span class="javascript">            showExport: <span class="literal">false</span>, </span></span><br><span class="line"><span class="javascript">            exportDataType: <span class="string">"all"</span>,</span></span><br><span class="line"><span class="javascript">            showLoading: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">            toolbar: <span class="string">'#toolbar'</span>,            <span class="comment">//工具按钮用哪个容器</span></span></span><br><span class="line"><span class="javascript">            toolbarAlign: <span class="string">'left'</span>,</span></span><br><span class="line">            </span><br><span class="line"><span class="javascript">            pagination: <span class="literal">true</span>,               <span class="comment">//是否显示分页</span></span></span><br><span class="line"><span class="javascript">            paginationLoop: <span class="literal">true</span>,           <span class="comment">//是否无限循环</span></span></span><br><span class="line"><span class="javascript">            paginationHAlign: <span class="string">'right'</span>,      <span class="comment">//分页位置</span></span></span><br><span class="line">            </span><br><span class="line"><span class="javascript">            sortable: <span class="literal">true</span>,                 <span class="comment">//是否启用排序</span></span></span><br><span class="line"><span class="javascript">            sortOrder: <span class="string">"asc"</span>,               <span class="comment">//排序方式</span></span></span><br><span class="line"><span class="javascript">            sidePagination: <span class="string">"client"</span>,       <span class="comment">//分页方式：client客户端分页，server服务端分页（*）</span></span></span><br><span class="line"><span class="javascript">            pageNumber:<span class="number">1</span>,                   <span class="comment">//初始化加载第一页，默认第一页</span></span></span><br><span class="line"><span class="javascript">            pageSize:  <span class="number">5</span>,                   <span class="comment">//每页的记录行数（*）</span></span></span><br><span class="line"><span class="javascript">            pageList:  [<span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>],      <span class="comment">//可供选择的每页的行数（*）</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// paginationDetailHAlign:' hidden', //</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            search:<span class="literal">true</span>,                <span class="comment">//是否显示表格搜索</span></span></span><br><span class="line"><span class="javascript">            searchOnEnterKey:<span class="literal">true</span>,      <span class="comment">//是否需要点击enter显示数据</span></span></span><br><span class="line"><span class="javascript">            strictSearch: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">            showHeader:<span class="literal">true</span>,            <span class="comment">//是否显示表头</span></span></span><br><span class="line"><span class="javascript">            showColumns: <span class="literal">true</span>,          <span class="comment">//是否显示所有的列</span></span></span><br><span class="line"><span class="javascript">            showRefresh: <span class="literal">true</span>,          <span class="comment">//显示刷新按钮</span></span></span><br><span class="line"><span class="javascript">            minimumCountColumns: <span class="number">2</span>,     <span class="comment">//最少允许的列数</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">// height: 400,        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度</span></span></span><br><span class="line">     </span><br><span class="line"><span class="javascript">            showToggle:<span class="literal">true</span>,    <span class="comment">//是否显示详细视图和列表</span></span></span><br><span class="line"><span class="javascript">            cardView: <span class="literal">false</span>,    <span class="comment">//是否显示详细视图</span></span></span><br><span class="line"><span class="javascript">            detailView: <span class="literal">true</span>,   <span class="comment">//是否显示父子表</span></span></span><br><span class="line"><span class="javascript">            clickToSelect:<span class="literal">true</span>, <span class="comment">//是否启用点击选中行</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            exportDataType: <span class="string">"selected"</span>,        <span class="comment">//导出checkbox选中的行数</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="comment">// paginationFirstText: "首页",</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// paginationPreText: '上一页',</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// paginationNextText: '下一页',</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// paginationLastText: '最后一页',</span></span></span><br><span class="line">            </span><br><span class="line">            data:data,</span><br><span class="line"><span class="javascript">            <span class="comment">//得到查询的参数</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// queryParams : function (params) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         var temp = &#123;   </span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//             rows: params.limit,                         //页面大小</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//             page: (params.offset / params.limit) + 1,   //页码</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//             sort: params.sort,      //排序列名  </span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//             sortOrder: params.order //排位命令（desc，asc） </span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         &#125;;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         return temp;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     &#125;,</span></span></span><br><span class="line">            columns:[&#123;</span><br><span class="line"><span class="javascript">                    checkbox: <span class="literal">true</span>,  </span></span><br><span class="line"><span class="javascript">                    visible: <span class="literal">true</span>                  <span class="comment">//是否显示复选框  </span></span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                field: <span class="string">'task'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'任务名称'</span></span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                field: <span class="string">'problemType'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'问题类型'</span>,</span></span><br><span class="line"><span class="javascript">                width:<span class="string">'12%'</span></span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                field: <span class="string">'arranger'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'安排人'</span>,</span></span><br><span class="line"><span class="javascript">                width:<span class="string">'12%'</span></span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                field: <span class="string">'patrols'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'巡查人员'</span>,</span></span><br><span class="line"><span class="javascript">                width:<span class="string">'12%'</span></span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                field: <span class="string">'beginTime'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'开始时间'</span>,</span></span><br><span class="line"><span class="javascript">                width:<span class="string">'12%'</span>,</span></span><br><span class="line"><span class="javascript">                height:<span class="string">'46px'</span></span></span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                field: <span class="string">'endTime'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'截止时间'</span>,</span></span><br><span class="line"><span class="javascript">                width:<span class="string">'12%'</span>,</span></span><br><span class="line"><span class="javascript">                formatter:<span class="function"><span class="keyword">function</span>(<span class="params">value,row,index</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> html = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(index == <span class="number">3</span> || index == <span class="number">7</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> html = <span class="string">'&lt;div class="show-colos"&gt;'</span>+value+<span class="string">'&lt;/div&gt;'</span>;</span></span><br><span class="line"><span class="javascript">                    &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> html = value;</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> html;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,&#123;</span><br><span class="line"><span class="javascript">                    field: <span class="string">'taskState'</span>,</span></span><br><span class="line"><span class="javascript">                title: <span class="string">'任务状态'</span>,</span></span><br><span class="line"><span class="javascript">                width:<span class="string">'12%'</span>,</span></span><br><span class="line"><span class="javascript">                formatter:<span class="function"><span class="keyword">function</span>(<span class="params">value,row,index</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> html = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(value == <span class="string">"已完成"</span>) &#123;</span></span><br><span class="line"><span class="xml">                        var html = '<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"task-finish"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"finish-ico"</span>"&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>'+value+'<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>';</span></span><br><span class="line"><span class="javascript">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value == <span class="string">"未完成"</span>)&#123;</span></span><br><span class="line"><span class="xml">                        var html = '<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"task-unfinish"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"unfinish-ico "</span> <span class="attr">onclick</span>=<span class="string">"showdetails()"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>'+value+'<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>';</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> html;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;],</span><br><span class="line"><span class="javascript">            onLoadSuccess: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            onLoadError: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    loadTableData();</span><br><span class="line"><span class="javascript">    $(<span class="string">'table1'</span>).bootstrapTable(<span class="string">'refresh'</span>); <span class="comment">//删除数据自动更新</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/10/17/关于echarts的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/10/17/关于echarts的使用/" class="post-title-link" itemprop="url">关于echarts的使用</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-10-17 16:56:03" itemprop="dateCreated datePublished" datetime="2019-10-17T16:56:03+08:00">2019-10-17</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Echarts/" itemprop="url" rel="index"><span itemprop="name">Echarts</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="关于Echarts的使用"><a href="#关于Echarts的使用" class="headerlink" title="关于Echarts的使用"></a>关于Echarts的使用</h1><p><strong>主要的及格配置项</strong></p>
<blockquote>
<p>title  <strong>图表标题</strong></p>
<p>tooltip <strong>提示框</strong></p>
<p>legend <strong>图例</strong></p>
<p>grid</p>
<p>xAxis <strong>X轴样式</strong></p>
<p>yAxis <strong>Y轴样式</strong></p>
<p>series <strong>配置</strong></p>
</blockquote>
<h3 id="title-图表标题"><a href="#title-图表标题" class="headerlink" title="title 图表标题"></a>title 图表标题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">title: &#123;</span><br><span class="line">        x: <span class="string">'left'</span>,                 <span class="comment">// 水平安放位置，默认为左对齐，可选为：</span></span><br><span class="line">                                   <span class="comment">// 'center' ¦ 'left' ¦ 'right'</span></span><br><span class="line">                                   <span class="comment">// ¦ &#123;number&#125;（x坐标，单位px）</span></span><br><span class="line">        y: <span class="string">'top'</span>,                  <span class="comment">// 垂直安放位置，默认为全图顶端，可选为：</span></span><br><span class="line">                                   <span class="comment">// 'top' ¦ 'bottom' ¦ 'center'</span></span><br><span class="line">                                   <span class="comment">// ¦ &#123;number&#125;（y坐标，单位px）</span></span><br><span class="line">        <span class="comment">//textAlign: null          // 水平对齐方式，默认根据x设置自动调整</span></span><br><span class="line">        backgroundColor: <span class="string">'rgba(0,0,0,0)'</span>,</span><br><span class="line">        borderColor: <span class="string">'#ccc'</span>,       <span class="comment">// 标题边框颜色</span></span><br><span class="line">        borderWidth: <span class="number">0</span>,            <span class="comment">// 标题边框线宽，单位px，默认为0（无边框）</span></span><br><span class="line">        padding: <span class="number">5</span>,                <span class="comment">// 标题内边距，单位px，默认各方向内边距为5，</span></span><br><span class="line">                                   <span class="comment">// 接受数组分别设定上右下左边距，同css</span></span><br><span class="line">        itemGap: <span class="number">10</span>,               <span class="comment">// 主副标题纵向间隔，单位px，默认为10，</span></span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            fontSize: <span class="number">18</span>,</span><br><span class="line">            fontWeight: <span class="string">'bolder'</span>,</span><br><span class="line">            color: <span class="string">'#333'</span>          <span class="comment">// 主标题文字颜色</span></span><br><span class="line">        &#125;,</span><br><span class="line">        subtextStyle: &#123;</span><br><span class="line">            color: <span class="string">'#aaa'</span>          <span class="comment">// 副标题文字颜色</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="tooltip-提示框"><a href="#tooltip-提示框" class="headerlink" title="tooltip 提示框"></a>tooltip 提示框</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 提示框</span></span><br><span class="line">    tooltip: &#123;</span><br><span class="line">        trigger: <span class="string">'item'</span>,           <span class="comment">// item只会显示该点的数据，axis显示该列下所有坐标轴所对应的数据</span></span><br><span class="line">        showDelay: <span class="number">20</span>,             <span class="comment">// 显示延迟，添加显示延迟可以避免频繁切换，单位ms</span></span><br><span class="line">        hideDelay: <span class="number">100</span>,            <span class="comment">// 隐藏延迟，单位ms</span></span><br><span class="line">        transitionDuration : <span class="number">0.4</span>,  <span class="comment">// 动画变换时间，单位s</span></span><br><span class="line">        backgroundColor: <span class="string">'rgba(0,0,0,0.7)'</span>,     <span class="comment">// 提示背景颜色，默认为透明度为0.7的黑色</span></span><br><span class="line">        borderColor: <span class="string">'#333'</span>,       <span class="comment">// 提示边框颜色</span></span><br><span class="line">        borderRadius: <span class="number">4</span>,           <span class="comment">// 提示边框圆角，单位px，默认为4</span></span><br><span class="line">        borderWidth: <span class="number">0</span>,            <span class="comment">// 提示边框线宽，单位px，默认为0（无边框）</span></span><br><span class="line">        padding: <span class="number">5</span>,                <span class="comment">// 提示内边距，单位px，默认各方向内边距为5，</span></span><br><span class="line">                                   <span class="comment">// 接受数组分别设定上右下左边距，同css</span></span><br><span class="line">        axisPointer : &#123;            <span class="comment">// 坐标轴指示器，坐标轴触发有效</span></span><br><span class="line">            type : <span class="string">'line'</span>,         <span class="comment">// 默认为直线，可选为：'line' | 'shadow'</span></span><br><span class="line">            lineStyle : &#123;          <span class="comment">// 直线指示器样式设置</span></span><br><span class="line">                color: <span class="string">'#48b'</span>,</span><br><span class="line">                width: <span class="number">2</span>,</span><br><span class="line">                type: <span class="string">'solid'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            shadowStyle : &#123;                       <span class="comment">// 阴影指示器样式设置</span></span><br><span class="line">                width: <span class="string">'auto'</span>,                   <span class="comment">// 阴影大小</span></span><br><span class="line">                color: <span class="string">'rgba(150,150,150,0.3)'</span>  <span class="comment">// 阴影颜色</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">            color: <span class="string">'#fff'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="legend-图例"><a href="#legend-图例" class="headerlink" title="legend 图例"></a>legend 图例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">legend: &#123;</span><br><span class="line">          orient: <span class="string">'horizontal'</span>,      <span class="comment">// 布局方式，默认为水平布局，可选为：</span></span><br><span class="line">                                     <span class="comment">// 'horizontal' ¦ 'vertical'</span></span><br><span class="line">          x: <span class="string">'center'</span>,               <span class="comment">// 水平安放位置，默认为全图居中，可选为：</span></span><br><span class="line">                                     <span class="comment">// 'center' ¦ 'left' ¦ 'right'</span></span><br><span class="line">                                     <span class="comment">// ¦ &#123;number&#125;（x坐标，单位px）</span></span><br><span class="line">          y: <span class="string">'top'</span>,                  <span class="comment">// 垂直安放位置，默认为全图顶端，可选为：</span></span><br><span class="line">                                     <span class="comment">// 'top' ¦ 'bottom' ¦ 'center'</span></span><br><span class="line">                                     <span class="comment">// ¦ &#123;number&#125;（y坐标，单位px）</span></span><br><span class="line">         backgroundColor: <span class="string">'rgba(0,0,0,0)'</span>,</span><br><span class="line">         borderColor: <span class="string">'#ccc'</span>,       <span class="comment">// 图例边框颜色</span></span><br><span class="line">         borderWidth: <span class="number">0</span>,            <span class="comment">// 图例边框线宽，单位px，默认为0（无边框）</span></span><br><span class="line">         padding: <span class="number">5</span>,                <span class="comment">// 图例内边距单位px，默认各方向内边距为5，</span></span><br><span class="line">                                    <span class="comment">// 接受数组分别设定上右下左边距，同css</span></span><br><span class="line">         itemGap: <span class="number">10</span>,               <span class="comment">// 各个item之间的间隔，单位px，默认为10，</span></span><br><span class="line">                                    <span class="comment">// 横向布局时为水平间隔，纵向布局时为纵向间隔</span></span><br><span class="line">         itemWidth: <span class="number">20</span>,             <span class="comment">// 图例图形宽度</span></span><br><span class="line">         itemHeight: <span class="number">14</span>,            <span class="comment">// 图例图形高度</span></span><br><span class="line">         textStyle: &#123;</span><br><span class="line">             color: <span class="string">'#333'</span>          <span class="comment">// 图例文字颜色</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="Axis-分为category和value"><a href="#Axis-分为category和value" class="headerlink" title="Axis 分为category和value"></a>Axis 分为category和value</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">categoryAxis: &#123;</span><br><span class="line">          position: <span class="string">'bottom'</span>,    <span class="comment">// 位置</span></span><br><span class="line">          nameLocation: <span class="string">'end'</span>,   <span class="comment">// 坐标轴名字位置，支持'start' | 'end'</span></span><br><span class="line">          boundaryGap: <span class="literal">true</span>,     <span class="comment">// 类目起始和结束两端空白策略</span></span><br><span class="line">          axisLine: &#123;            <span class="comment">// 坐标轴线</span></span><br><span class="line">              show: <span class="literal">true</span>,        <span class="comment">// 默认显示，属性show控制显示与否</span></span><br><span class="line">              lineStyle: &#123;       <span class="comment">// 属性lineStyle控制线条样式</span></span><br><span class="line">                  color: <span class="string">'#48b'</span>,</span><br><span class="line">                  width: <span class="number">2</span>,      <span class="comment">//设置为0也是不现在坐标线</span></span><br><span class="line">                 type: <span class="string">'solid'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,         <span class="attr">axisTick</span>: &#123;            <span class="comment">// 坐标轴小标记</span></span><br><span class="line">             show: <span class="literal">true</span>,       <span class="comment">// 属性show控制显示与否，默认不显示</span></span><br><span class="line">             interval: <span class="string">'auto'</span>,</span><br><span class="line">             <span class="comment">// onGap: null,</span></span><br><span class="line">             inside : <span class="literal">false</span>,    <span class="comment">// 控制小标记是否在grid里 </span></span><br><span class="line">             length :<span class="number">5</span>,         <span class="comment">// 属性length控制线长</span></span><br><span class="line">             lineStyle: &#123;       <span class="comment">// 属性lineStyle控制线条样式</span></span><br><span class="line">                 color: <span class="string">'#333'</span>,</span><br><span class="line">                 width: <span class="number">1</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         axisLabel: &#123;           <span class="comment">// 坐标轴文本标签，详见axis.axisLabel</span></span><br><span class="line">             show: <span class="literal">true</span>,</span><br><span class="line">             interval: <span class="string">'auto'</span>,</span><br><span class="line">             rotate: <span class="number">0</span>,</span><br><span class="line">             margin: <span class="number">8</span>,</span><br><span class="line">             <span class="comment">// formatter: null,</span></span><br><span class="line">             textStyle: &#123;       <span class="comment">// 其余属性默认使用全局文本样式，详见TEXTSTYLE</span></span><br><span class="line">                 color: <span class="string">'#333'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         splitLine: &#123;           <span class="comment">// 分隔线</span></span><br><span class="line">             show: <span class="literal">true</span>,        <span class="comment">// 默认显示，属性show控制显示与否</span></span><br><span class="line">             <span class="comment">// onGap: null,</span></span><br><span class="line">             lineStyle: &#123;       <span class="comment">// 属性lineStyle（详见lineStyle）控制线条样式</span></span><br><span class="line">                 color: [<span class="string">'#ccc'</span>],</span><br><span class="line">                 width: <span class="number">1</span>,</span><br><span class="line">                 type: <span class="string">'solid'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         splitArea: &#123;           <span class="comment">// 分隔区域</span></span><br><span class="line">             show: <span class="literal">false</span>,       <span class="comment">// 默认不显示，属性show控制显示与否</span></span><br><span class="line">             <span class="comment">// onGap: null,</span></span><br><span class="line">             areaStyle: &#123;       <span class="comment">// 属性areaStyle（详见areaStyle）控制区域样式</span></span><br><span class="line">                 color: [<span class="string">'rgba(250,250,250,0.3)'</span>,<span class="string">'rgba(200,200,200,0.3)'</span>]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">valueAxis: &#123;</span><br><span class="line">          position: <span class="string">'left'</span>,      <span class="comment">// 位置</span></span><br><span class="line">          nameLocation: <span class="string">'end'</span>,   <span class="comment">// 坐标轴名字位置，支持'start' | 'end'</span></span><br><span class="line">          nameTextStyle: &#123;&#125;,     <span class="comment">// 坐标轴文字样式，默认取全局样式</span></span><br><span class="line">          boundaryGap: [<span class="number">0</span>, <span class="number">0</span>],   <span class="comment">// 数值起始和结束两端空白策略</span></span><br><span class="line">          splitNumber: <span class="number">5</span>,        <span class="comment">// 分割段数，默认为5</span></span><br><span class="line">          axisLine: &#123;            <span class="comment">// 坐标轴线</span></span><br><span class="line">              show: <span class="literal">true</span>,        <span class="comment">// 默认显示，属性show控制显示与否</span></span><br><span class="line">              lineStyle: &#123;       <span class="comment">// 属性lineStyle控制线条样式</span></span><br><span class="line">                 color: <span class="string">'#48b'</span>,</span><br><span class="line">                 width: <span class="number">2</span>,</span><br><span class="line">                 type: <span class="string">'solid'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         axisTick: &#123;            <span class="comment">// 坐标轴小标记</span></span><br><span class="line">             show: <span class="literal">false</span>,       <span class="comment">// 属性show控制显示与否，默认不显示</span></span><br><span class="line">             inside : <span class="literal">false</span>,    <span class="comment">// 控制小标记是否在grid里 </span></span><br><span class="line">             length :<span class="number">5</span>,         <span class="comment">// 属性length控制线长</span></span><br><span class="line">             lineStyle: &#123;       <span class="comment">// 属性lineStyle控制线条样式</span></span><br><span class="line">                 color: <span class="string">'#333'</span>,</span><br><span class="line">                 width: <span class="number">1</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         axisLabel: &#123;           <span class="comment">// 坐标轴文本标签，详见axis.axisLabel</span></span><br><span class="line">             show: <span class="literal">true</span>,</span><br><span class="line">             rotate: <span class="number">0</span>,</span><br><span class="line">             margin: <span class="number">8</span>,</span><br><span class="line">             <span class="comment">// formatter: null,</span></span><br><span class="line">             textStyle: &#123;       <span class="comment">// 其余属性默认使用全局文本样式，详见TEXTSTYLE</span></span><br><span class="line">                 color: <span class="string">'#333'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         splitLine: &#123;           <span class="comment">// 分隔线</span></span><br><span class="line">             show: <span class="literal">true</span>,        <span class="comment">// 默认显示，属性show控制显示与否</span></span><br><span class="line">             lineStyle: &#123;       <span class="comment">// 属性lineStyle（详见lineStyle）控制线条样式</span></span><br><span class="line">                 color: [<span class="string">'#ccc'</span>],</span><br><span class="line">                 width: <span class="number">1</span>,</span><br><span class="line">                 type: <span class="string">'solid'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         splitArea: &#123;           <span class="comment">// 分隔区域</span></span><br><span class="line">             show: <span class="literal">false</span>,       <span class="comment">// 默认不显示，属性show控制显示与否</span></span><br><span class="line">             areaStyle: &#123;       <span class="comment">// 属性areaStyle（详见areaStyle）控制区域样式</span></span><br><span class="line">                 color: [<span class="string">'rgba(250,250,250,0.3)'</span>,<span class="string">'rgba(200,200,200,0.3)'</span>]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;,</span><br><span class="line"></span><br><span class="line">     polar : &#123;</span><br><span class="line">         center : [<span class="string">'50%'</span>, <span class="string">'50%'</span>],    <span class="comment">// 默认全局居中</span></span><br><span class="line">         radius : <span class="string">'75%'</span>,</span><br><span class="line">         startAngle : <span class="number">90</span>,</span><br><span class="line">         splitNumber : <span class="number">5</span>,</span><br><span class="line">         name : &#123;</span><br><span class="line">             show: <span class="literal">true</span>,</span><br><span class="line">             textStyle: &#123;       <span class="comment">// 其余属性默认使用全局文本样式，详见TEXTSTYLE</span></span><br><span class="line">                 color: <span class="string">'#333'</span></span><br><span class="line">            &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         axisLine: &#123;            <span class="comment">// 坐标轴线</span></span><br><span class="line">             show: <span class="literal">true</span>,        <span class="comment">// 默认显示，属性show控制显示与否</span></span><br><span class="line">             lineStyle: &#123;       <span class="comment">// 属性lineStyle控制线条样式</span></span><br><span class="line">                 color: <span class="string">'#ccc'</span>,</span><br><span class="line">                 width: <span class="number">1</span>, </span><br><span class="line">                 type: <span class="string">'solid'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         axisLabel: &#123;           <span class="comment">// 坐标轴文本标签，详见axis.axisLabel</span></span><br><span class="line">             show: <span class="literal">false</span>,</span><br><span class="line">             textStyle: &#123;       <span class="comment">// 其余属性默认使用全局文本样式，详见TEXTSTYLE</span></span><br><span class="line">                 color: <span class="string">'#333'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         splitArea : &#123;</span><br><span class="line">             show : <span class="literal">true</span>,</span><br><span class="line">             areaStyle : &#123;</span><br><span class="line">                 color: [<span class="string">'rgba(250,250,250,0.3)'</span>,<span class="string">'rgba(200,200,200,0.3)'</span>]</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         splitLine : &#123;</span><br><span class="line">             show : <span class="literal">true</span>,</span><br><span class="line">             lineStyle : &#123;</span><br><span class="line">                 width : <span class="number">1</span>,</span><br><span class="line">                 color : <span class="string">'#ccc'</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//饼图</span></span><br><span class="line">    use_chart();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">use_chart</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'name_chart'</span>));<span class="comment">//绑定盒子ID</span></span><br><span class="line">        <span class="keyword">var</span> Data = [</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">21</span>, <span class="attr">name</span>:<span class="string">'违章建筑'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#54cd78"</span></span><br><span class="line">                &#125;&#125;,</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">18</span>, <span class="attr">name</span>:<span class="string">'非法船舶'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#2ab6f9"</span></span><br><span class="line">                &#125;&#125;,</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">12</span>, <span class="attr">name</span>:<span class="string">'占用水域'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#f2637b"</span></span><br><span class="line">                &#125;&#125;,</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">18</span>, <span class="attr">name</span>:<span class="string">'非法游泳'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#cbf119"</span></span><br><span class="line">                &#125;&#125;,</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">14</span>, <span class="attr">name</span>:<span class="string">'非法采砂'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#36cbcb"</span></span><br><span class="line">                &#125;&#125;,</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">14</span>, <span class="attr">name</span>:<span class="string">'违法垂钓'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#8944f5"</span></span><br><span class="line">                &#125;&#125;,</span><br><span class="line">            &#123;<span class="attr">value</span>:<span class="number">14</span>, <span class="attr">name</span>:<span class="string">'违法捕捞'</span>,<span class="attr">itemStyle</span>:&#123;</span><br><span class="line">                    color:<span class="string">"#ffa06d"</span></span><br><span class="line">                &#125;&#125;</span><br><span class="line">        ];</span><br><span class="line">        myChart.setOption(&#123;</span><br><span class="line">            title: &#123;</span><br><span class="line">                text:<span class="string">''</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip: &#123;</span><br><span class="line">                trigger: <span class="string">'item'</span>,</span><br><span class="line">                formatter: <span class="string">"&#123;a&#125; &lt;br/&gt;&#123;b&#125;: &#123;c&#125; (&#123;d&#125;%)"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//图例名</span></span><br><span class="line">            legend: &#123;</span><br><span class="line">                orient: <span class="string">'horizontal'</span>,</span><br><span class="line">                x: <span class="string">'center'</span>,</span><br><span class="line">                y: <span class="string">'65%'</span>,</span><br><span class="line">                data:[<span class="string">'违法垂钓'</span>,<span class="string">'违法捕捞'</span>,<span class="string">'非法采砂'</span>,<span class="string">'非法游泳'</span>,<span class="string">'占用水域'</span>,<span class="string">'非法船舶'</span>,<span class="string">'违章建筑'</span>],</span><br><span class="line">                textStyle: &#123;</span><br><span class="line">                    color: <span class="string">'#999'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            series: [</span><br><span class="line">                &#123;</span><br><span class="line">                    name:<span class="string">'水质概况'</span>,</span><br><span class="line">                    type:<span class="string">'pie'</span>,</span><br><span class="line">                    center: [<span class="string">'50%'</span>, <span class="string">'30%'</span>],</span><br><span class="line">                    radius: [<span class="string">'40%'</span>, <span class="string">'63%'</span>],</span><br><span class="line">                    avoidLabelOverlap: <span class="literal">false</span>,</span><br><span class="line">                    label: &#123;</span><br><span class="line">                        normal: &#123;</span><br><span class="line">                            show: <span class="literal">true</span>,</span><br><span class="line">                            position: <span class="string">'center'</span>,</span><br><span class="line">                            formatter:<span class="function"><span class="keyword">function</span> (<span class="params">argument</span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> html;</span><br><span class="line">                                html=<span class="string">'101\r\n\r\n'</span>+<span class="string">'违法事件'</span>;</span><br><span class="line">                                <span class="keyword">return</span> html;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            textStyle:&#123;</span><br><span class="line">                                fontSize: <span class="number">14</span>,</span><br><span class="line">                                color:<span class="string">'#333'</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        emphasis: &#123;</span><br><span class="line">                            show: <span class="literal">false</span>,</span><br><span class="line">                            textStyle: &#123;</span><br><span class="line">                                fontSize: <span class="string">'15'</span>,</span><br><span class="line">                                fontWeight: <span class="string">'bold'</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    labelLine: &#123;</span><br><span class="line">                        normal: &#123;</span><br><span class="line">                            show: <span class="literal">false</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    data: Data,</span><br><span class="line">                    itemStyle : &#123;</span><br><span class="line">                        normal : &#123;</span><br><span class="line">                            <span class="comment">// color:'#0364d9'</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">line_chart();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">line_chart</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> xData = [<span class="string">"1月"</span>,<span class="string">"2月"</span>,<span class="string">"3月"</span>,<span class="string">"4月"</span>,<span class="string">"5月"</span>,<span class="string">"6月"</span>,<span class="string">"7月"</span>,<span class="string">"8月"</span>,<span class="string">"9月"</span>,<span class="string">"10月"</span>,<span class="string">"11月"</span>,<span class="string">"12月"</span>];</span><br><span class="line">        <span class="keyword">var</span> yData = [<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'youID_chart'</span>));</span><br><span class="line">        myChart.setOption(&#123;</span><br><span class="line">            title:&#123;</span><br><span class="line">                <span class="comment">// 主副标题</span></span><br><span class="line">                text:<span class="string">''</span>,</span><br><span class="line">                subtext: <span class="string">''</span></span><br><span class="line">            &#125;,</span><br><span class="line">            grid: &#123;</span><br><span class="line">                left: <span class="number">45</span>,</span><br><span class="line">                top: <span class="number">20</span>,</span><br><span class="line">                right: <span class="number">20</span>,</span><br><span class="line">                bottom: <span class="number">35</span></span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip: &#123;</span><br><span class="line">                trigger: <span class="string">'axis'</span><span class="comment">//item只会显示该点的数据，axis显示该列下所有坐标轴所对应的数据</span></span><br><span class="line">            &#125;,</span><br><span class="line">            xAxis: [</span><br><span class="line">                &#123;</span><br><span class="line">                    splitLine:&#123;</span><br><span class="line">                        lineStyle:&#123;</span><br><span class="line">                            type:<span class="string">'dotted'</span>,<span class="comment">//'dotted'虚线 'solid'实线</span></span><br><span class="line">                            color:<span class="string">'#ebebeb'</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        show: <span class="literal">true</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    axisTick:&#123;       <span class="comment">//刻度线</span></span><br><span class="line">                        <span class="string">"show"</span>:<span class="literal">false</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    type: <span class="string">'category'</span>,</span><br><span class="line">                    data: xData,</span><br><span class="line">                    axisPointer: &#123;</span><br><span class="line">                        type: <span class="string">'shadow'</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    axisLine: &#123;</span><br><span class="line">                        lineStyle:&#123;</span><br><span class="line">                            color:<span class="string">'#bfbfbf '</span>,</span><br><span class="line">                            width:<span class="number">0</span> <span class="comment">//这里是坐标轴的宽度,为0就是不显示</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    axisLabel: &#123;</span><br><span class="line">                        show: <span class="literal">true</span> <span class="comment">//这行代码控制着坐标轴x轴的文字是否显示</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            yAxis: [</span><br><span class="line">                &#123;</span><br><span class="line">                    show: <span class="literal">true</span>,</span><br><span class="line">                    splitLine:&#123;</span><br><span class="line">                        show: <span class="literal">false</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    type: <span class="string">'value'</span>,</span><br><span class="line">                    name: <span class="string">''</span>,</span><br><span class="line">                    nameTextStyle: &#123;</span><br><span class="line">                        color:<span class="string">'#bfbfbf'</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    axisLine: &#123;</span><br><span class="line">                        lineStyle:&#123;</span><br><span class="line">                            color:<span class="string">'#bfbfbf'</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            series: [&#123;</span><br><span class="line">                name:<span class="string">''</span>,</span><br><span class="line">                data: yData,</span><br><span class="line">                type: <span class="string">'line'</span>,</span><br><span class="line">                smooth: <span class="literal">true</span>,</span><br><span class="line">                itemStyle:&#123;</span><br><span class="line">                    normal:&#123;</span><br><span class="line">                        color:<span class="string">'#147aff'</span>, <span class="comment">//折点颜色</span></span><br><span class="line">                        lineStyle:&#123;</span><br><span class="line">                            color:<span class="string">'#147aff'</span> <span class="comment">//折线颜色</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                areaStyle: &#123;</span><br><span class="line">                    normal: &#123;</span><br><span class="line">                        color: <span class="keyword">new</span> echarts.graphic.LinearGradient(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, [</span><br><span class="line">                            &#123;<span class="attr">offset</span>: <span class="number">0</span>, <span class="attr">color</span>: <span class="string">'#d1e5ff'</span>&#125;,</span><br><span class="line">                            &#123;<span class="attr">offset</span>: <span class="number">0.5</span>, <span class="attr">color</span>: <span class="string">'#eaf3ff'</span>&#125;,</span><br><span class="line">                            &#123;<span class="attr">offset</span>: <span class="number">1</span>, <span class="attr">color</span>: <span class="string">'#fdfeff'</span>&#125;</span><br><span class="line">                        ])</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.cnblogs.com/1996zy/p/8963385.html" target="_blank" rel="noopener">https://www.cnblogs.com/1996zy/p/8963385.html</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/09/30/node社区/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/09/30/node社区/" class="post-title-link" itemprop="url">Node社区</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-30 17:18:14" itemprop="dateCreated datePublished" datetime="2019-09-30T17:18:14+08:00">2019-09-30</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<h3 id="1-目录"><a href="#1-目录" class="headerlink" title="1.目录"></a>1.目录</h3><h3 id="2-模板"><a href="#2-模板" class="headerlink" title="2.模板"></a>2.模板</h3><h3 id="3-路由设计"><a href="#3-路由设计" class="headerlink" title="3.路由设计"></a>3.路由设计</h3><table>
<thead>
<tr>
<th>路径</th>
<th>方法</th>
<th>get参数</th>
<th>post参数</th>
<th>是否需要登入</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>GET</td>
<td></td>
<td></td>
<td></td>
<td>渲染首页</td>
</tr>
<tr>
<td>/register</td>
<td>GET</td>
<td></td>
<td></td>
<td></td>
<td>渲染注册界面</td>
</tr>
<tr>
<td>/register</td>
<td>POST</td>
<td></td>
<td>email、nickname、password</td>
<td></td>
<td>处理注册请求</td>
</tr>
<tr>
<td>/login</td>
<td>GET</td>
<td></td>
<td></td>
<td></td>
<td>渲染登录页面</td>
</tr>
<tr>
<td>/login</td>
<td>POST</td>
<td></td>
<td>email、password</td>
<td></td>
<td>处理登入请求</td>
</tr>
<tr>
<td>/logout</td>
<td>GET</td>
<td></td>
<td></td>
<td></td>
<td>处理退出请求</td>
</tr>
</tbody></table>
<p>处理注册请求</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">router.post(<span class="string">'/register'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 1. 获取表单注册数据</span></span><br><span class="line">  <span class="comment">// 2. 操作数据库</span></span><br><span class="line">  <span class="comment">// 3. 发送响应</span></span><br><span class="line">  <span class="built_in">console</span>.log(req.body)</span><br><span class="line">  <span class="keyword">var</span> body = req.body</span><br><span class="line">  User.findOne(&#123;</span><br><span class="line">    $or: [</span><br><span class="line">      &#123;<span class="attr">email</span>: <span class="string">'body.email'</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">nickname</span>: <span class="string">'body.nickname'</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'Server error.'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(data)&#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">200</span>).send(<span class="string">'e or name aleary exists'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    res.status(<span class="number">200</span>).send(<span class="string">'regist ok'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>由于客户端定义了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataType: <span class="string">'json'</span></span><br></pre></td></tr></table></figure>

<p>无法识别字符串只能识别json格式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 处理注册请求</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.post(<span class="string">'/register'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 1. 获取表单注册数据</span></span><br><span class="line">  <span class="comment">// 2. 操作数据库</span></span><br><span class="line">  <span class="comment">// 3. 发送响应</span></span><br><span class="line">  <span class="keyword">var</span> body = req.body</span><br><span class="line">  User.findOne(&#123;</span><br><span class="line">    $or: [</span><br><span class="line">      &#123;<span class="attr">email</span>: body.email&#125;,</span><br><span class="line">      &#123;<span class="attr">nickname</span>: body.nickname&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">500</span>).json(&#123;</span><br><span class="line">        err_code: <span class="number">500</span>,</span><br><span class="line">        message:<span class="string">'Server error.'</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(data)&#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">200</span>).send(&#123;</span><br><span class="line">        err_code: <span class="number">1</span>,</span><br><span class="line">        message:<span class="string">'email or nickname already exists'</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//对密码加密</span></span><br><span class="line">    body.password = md5(md5(body.password))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> User(body).save(<span class="function"><span class="keyword">function</span>(<span class="params">err, user</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> res.status(<span class="number">500</span>).json(&#123;</span><br><span class="line">          err_code: <span class="number">500</span>,</span><br><span class="line">          message:<span class="string">'Server error.'</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      res.status(<span class="number">200</span>).json(&#123;</span><br><span class="line">        err_code: <span class="number">0</span>,</span><br><span class="line">        message:<span class="string">'ok'</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>服务端重定向只对同步请求有用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.redirect(&apos;/&apos;)</span><br></pre></td></tr></table></figure>

<p>异步只能客户端处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.location.href = &apos;/&apos;</span><br></pre></td></tr></table></figure>

<p>安装session插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express-session</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.use(session(&#123;  </span><br><span class="line">    secret: <span class="string">'keyboard cat'</span>,</span><br><span class="line">    resave: <span class="literal">false</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<p><img src="../images/1568207859405.png" alt="1568207859405"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/09/30/Git指令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/09/30/Git指令/" class="post-title-link" itemprop="url">Git操作指令</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-30 17:15:00" itemprop="dateCreated datePublished" datetime="2019-09-30T17:15:00+08:00">2019-09-30</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br></pre></td></tr></table></figure>

<p>该命令显示从最近到最远的提交日志。每一次提交都有对应的 commit id 和 commit message。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty=oneline</span><br></pre></td></tr></table></figure>

<p> 参数有序显示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard id</span><br></pre></td></tr></table></figure>

<p>回退应版本 一般取前6位即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin HEAD --force</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f</span><br></pre></td></tr></table></figure>

<p>强制回退远程仓库到当前版本<br>推送到本地到远程仓库：让远程仓库代码和你本地一样，到当前你本地的版本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure>

<p>定义：查看命令操作的历史</p>
<p>1、做了部分修改，觉得改错了，回退回修改前的状态：（回退到当前版本的初始状态）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD</span><br></pre></td></tr></table></figure>

<p>2、回退到当前版本的前一个版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure>

<p>3、回退到当前版本的上上个版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^^</span><br></pre></td></tr></table></figure>

<p>4、回退到当前版本之前的100个版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~100</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/09/08/Node+express+MongoDB的crud案例/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/09/08/Node+express+MongoDB的crud案例/" class="post-title-link" itemprop="url">Node+express+MongoDB的crud案例</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-08 15:02:00" itemprop="dateCreated datePublished" datetime="2019-09-08T15:02:00+08:00">2019-09-08</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node/" itemprop="url" rel="index"><span itemprop="name">Node</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="基于express的crud"><a href="#基于express的crud" class="headerlink" title="基于express的crud"></a>基于express的crud</h1><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li><p>安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>使用express搭建服务器</span><br><span class="line">npm install express</span><br><span class="line"><span class="meta">#</span>模板引擎页面渲染 定向</span><br><span class="line">npm install express-art-template art-template</span><br><span class="line"><span class="meta">#</span>用来处理POST请求 获取请求体(req.body)</span><br><span class="line">npm install body-parser</span><br><span class="line"><span class="meta">#</span>提供MongoDB的crud</span><br><span class="line">npm install mongoose</span><br></pre></td></tr></table></figure>
</li>
<li><p>express要点</p>
<blockquote>
<ul>
<li><p>设置 静态服务（url可访问）</p>
</li>
<li><p>把路由容器挂载到 app 服务中<br>app.use(router)</p>
</li>
<li><p>Express 提供了一种更好的方式 专门用来包装路由的<br>var express = require(‘express’)</p>
<p>创建一个路由容器<br>var router = express.Router()</p>
<p>执行</p>
<p>router.get()</p>
<p>router.post()</p>
</li>
</ul>
</blockquote>
</li>
<li><p>表单要点</p>
<blockquote>
<p>get  ===&gt; req.query 拿 get 请求参数<br>post ===&gt; req.body 拿post请求参数</p>
</blockquote>
</li>
<li><p>mongoose要点</p>
<blockquote>
<p>注意格式<br>id 是字符串格式且 为 ( _id )<br>记得去字符串</p>
</blockquote>
</li>
<li><p>art-template要点</p>
<ul>
<li>模板配置（默认约定文件在views目录）</li>
</ul>
</li>
</ol>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; app.engine(<span class="string">'html'</span>, <span class="built_in">require</span>(<span class="string">'express-art-template'</span>)) </span><br><span class="line">&gt; </span><br><span class="line">&gt; app.set(<span class="string">'views'</span>,path.join(__dirname,<span class="string">'./views/'</span>)) <span class="comment">//若要修改</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>渲染页面</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; router.get(<span class="string">'/students'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">&gt; </span><br><span class="line">&gt; 	res.render(<span class="string">'new.html'</span>)</span><br><span class="line">&gt; </span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>重定向</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; res.redirect(&apos;/students&apos;)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>循环语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; &#123;&#123; each students &#125;&#125; </span><br><span class="line">&gt; </span><br><span class="line">&gt; &#123;&#123; $value.hobbies &#125;&#125;</span><br><span class="line">&gt; </span><br><span class="line">&gt; &#123;&#123; /each &#125;&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="路由设计"><a href="#路由设计" class="headerlink" title="路由设计"></a>路由设计</h2><table>
<thead>
<tr>
<th>请求方法</th>
<th>请求路径</th>
<th>get 参数</th>
<th>post 参数</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>/studens</td>
<td></td>
<td></td>
<td>渲染首页</td>
</tr>
<tr>
<td>GET</td>
<td>/students/new</td>
<td></td>
<td></td>
<td>渲染添加学生页面</td>
</tr>
<tr>
<td>POST</td>
<td>/studens/new</td>
<td></td>
<td>name、age、gender、hobbies</td>
<td>处理添加学生请求</td>
</tr>
<tr>
<td>GET</td>
<td>/students/edit</td>
<td>id</td>
<td></td>
<td>渲染编辑页面</td>
</tr>
<tr>
<td>POST</td>
<td>/studens/edit</td>
<td></td>
<td>id、name、age、gender、hobbies</td>
<td>处理编辑请求</td>
</tr>
<tr>
<td>GET</td>
<td>/students/delete</td>
<td>id</td>
<td></td>
<td>处理删除请求</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="入口模块（app-js）"><a href="#入口模块（app-js）" class="headerlink" title="入口模块（app.js）"></a>入口模块（app.js）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * app.js 入口模块</span></span><br><span class="line"><span class="comment"> * 职责：</span></span><br><span class="line"><span class="comment"> *   创建服务</span></span><br><span class="line"><span class="comment"> *   做一些服务相关配置</span></span><br><span class="line"><span class="comment"> *     模板引擎</span></span><br><span class="line"><span class="comment"> *     body-parser 解析表单 post 请求体</span></span><br><span class="line"><span class="comment"> *     提供静态资源服务</span></span><br><span class="line"><span class="comment"> *   挂载路由</span></span><br><span class="line"><span class="comment"> *   监听端口启动服务</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//用来处理post表单请求体（req.body）</span></span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">'./router'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置 静态服务（url可访问）</span></span><br><span class="line">app.use(<span class="string">'/node_modules/'</span>, express.static(<span class="string">'./node_modules/'</span>))</span><br><span class="line">app.use(<span class="string">'/public/'</span>, express.static(<span class="string">'./public/'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板配置（默认约定文件在views目录）：</span></span><br><span class="line">app.engine(<span class="string">'html'</span>, <span class="built_in">require</span>(<span class="string">'express-art-template'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置模板引擎和 body-parser 一定要在 app.use(router) 挂载路由之前</span></span><br><span class="line"><span class="comment">// parse application/x-www-form-urlencoded</span></span><br><span class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"><span class="comment">// parse application/json</span></span><br><span class="line">app.use(bodyParser.json())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// router(app)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 把路由容器挂载到 app 服务中</span></span><br><span class="line">app.use(router)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">4000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'running 4000...'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = app</span><br></pre></td></tr></table></figure>

<h3 id="数据操作文件模块（student-js）"><a href="#数据操作文件模块（student-js）" class="headerlink" title="数据操作文件模块（student.js）"></a>数据操作文件模块（student.js）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * student.js 操作数据模块</span></span><br><span class="line"><span class="comment"> * 职责：操作文件中的数据，只处理数据，不关心业务</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Schema = mongoose.Schema</span><br><span class="line"></span><br><span class="line"><span class="comment">//连接数据库</span></span><br><span class="line">mongoose.connect(<span class="string">'mongodb://localhost/itcast'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义表单 设计文档结构</span></span><br><span class="line"><span class="keyword">var</span> studentSchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">  name : &#123;</span><br><span class="line">    type: <span class="built_in">String</span>,</span><br><span class="line">    required: <span class="literal">true</span> <span class="comment">//必填</span></span><br><span class="line">  &#125;,</span><br><span class="line">  gender: &#123;</span><br><span class="line">    type: <span class="built_in">Number</span>,</span><br><span class="line">    enum: [<span class="number">0</span>, <span class="number">1</span>], <span class="comment">//0或者1</span></span><br><span class="line">    <span class="keyword">default</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  age: &#123;</span><br><span class="line">    type: <span class="built_in">Number</span> <span class="comment">//可为空</span></span><br><span class="line">  &#125;,</span><br><span class="line">  hobbies : &#123;</span><br><span class="line">    type: <span class="built_in">String</span> <span class="comment">//可为空</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发布为模型 并导出给router模块执行crud（注意生成的集合为小写复数students）</span></span><br><span class="line"><span class="comment">// 模型构造函数</span></span><br><span class="line"><span class="built_in">module</span>.exports = mongoose.model(<span class="string">'Student'</span>,studentSchema)</span><br></pre></td></tr></table></figure>

<h3 id="路由模块（router-js）"><a href="#路由模块（router-js）" class="headerlink" title="路由模块（router.js）"></a>路由模块（router.js）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * router.js 路由模块</span></span><br><span class="line"><span class="comment"> * 职责：</span></span><br><span class="line"><span class="comment"> *   处理路由</span></span><br><span class="line"><span class="comment"> *   根据不同的请求方法+请求路径设置具体的请求处理函数</span></span><br><span class="line"><span class="comment"> * 模块职责要单一，不要乱写</span></span><br><span class="line"><span class="comment"> * 划分模块的目的就是为了增强项目代码的可维护性</span></span><br><span class="line"><span class="comment"> * 提升开发效率</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收模型构造函数 用来执行crud</span></span><br><span class="line"><span class="keyword">var</span> Student = <span class="built_in">require</span>(<span class="string">'./student'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Express 提供了一种更好的方式</span></span><br><span class="line"><span class="comment">// 专门用来包装路由的</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 创建一个路由容器</span></span><br><span class="line"><span class="keyword">var</span> router = express.Router()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 把路由都挂载到 router 路由容器中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 渲染学生列表页面</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.get(<span class="string">'/students'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    Student.find(<span class="function"><span class="keyword">function</span>(<span class="params">err, students</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'sever error'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      res.render(<span class="string">'index.html'</span>, &#123;</span><br><span class="line">        fruits: [</span><br><span class="line">          <span class="string">'苹果'</span>,</span><br><span class="line">          <span class="string">'香蕉'</span>,</span><br><span class="line">          <span class="string">'橘子'</span></span><br><span class="line">        ],</span><br><span class="line">        students: students</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 渲染添加学生页面</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.get(<span class="string">'/students/new'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.render(<span class="string">'new.html'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 处理添加学生</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.post(<span class="string">'/students/new'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 获取表单数据</span></span><br><span class="line">  <span class="comment">// 2. 处理</span></span><br><span class="line">  <span class="comment">// 3. 发送响应</span></span><br><span class="line">  <span class="keyword">new</span> Student(req.body).save(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'Server error.'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    res.redirect(<span class="string">'/students'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 渲染编辑学生页面</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.get(<span class="string">'/students/edit'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 在客户端的列表页中处理链接问题（需要有 id 参数）</span></span><br><span class="line">  <span class="comment">// 2. 获取要编辑的学生 id </span></span><br><span class="line">  <span class="comment">// 3. 渲染编辑页面</span></span><br><span class="line">  <span class="comment">//    根据 id 把学生信息查出来</span></span><br><span class="line">  <span class="comment">//    使用模板引擎渲染页面</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//MongoDB的id是字符串格式的需处理一下且对应html文件中需要注意id是带带下划线的(_id)</span></span><br><span class="line"></span><br><span class="line">  Student.findById(req.query.id.replace(<span class="regexp">/"/g</span>, <span class="string">''</span>), <span class="function"><span class="keyword">function</span> (<span class="params">err, student</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'Server error.'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    res.render(<span class="string">'edit.html'</span>, &#123;</span><br><span class="line">      student: student</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 处理编辑学生</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.post(<span class="string">'/students/edit'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 获取表单数据</span></span><br><span class="line">    <span class="comment">//  req.body</span></span><br><span class="line">    <span class="comment">//  console.log(req.body)</span></span><br><span class="line">  <span class="comment">// 2. 更新</span></span><br><span class="line">    <span class="comment">//  Student.updateById()</span></span><br><span class="line">  <span class="comment">// 3. 发送响应</span></span><br><span class="line">  <span class="keyword">var</span> id = req.body.id.replace(<span class="regexp">/"/g</span>, <span class="string">''</span>)</span><br><span class="line">  Student.findByIdAndUpdate(id, req.body, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'Server error.'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    res.redirect(<span class="string">'/students'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 处理删除学生</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.get(<span class="string">'/students/delete'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. 获取要删除的 id</span></span><br><span class="line">  <span class="comment">// 2. 根据 id 执行删除操作</span></span><br><span class="line">  <span class="comment">// 3. 根据操作结果发送响应数据</span></span><br><span class="line">  <span class="keyword">var</span> id = req.query.id.replace(<span class="regexp">/"/g</span>, <span class="string">''</span>)</span><br><span class="line">  Student.findByIdAndRemove(id, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">'Server error.'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    res.redirect(<span class="string">'/students'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 把 router 导出</span></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br></pre></td></tr></table></figure>

<h3 id="views的文件"><a href="#views的文件" class="headerlink" title="views的文件"></a>views的文件</h3><h4 id="new-html"><a href="#new-html" class="headerlink" title="new.html"></a>new.html</h4><ol>
<li>这里会自动生成id</li>
<li>故只需要  name、age、gender、hobbies</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"sub-header"</span>&gt;</span>添加学生<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/students/new"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">required</span> <span class="attr">minlength</span>=<span class="string">"2"</span> <span class="attr">maxlength</span>=<span class="string">"10"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"radio-inline"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">checked</span>&gt;</span> 男</span><br><span class="line">              <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"radio-inline"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span> 女</span><br><span class="line">              <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">required</span> <span class="attr">min</span>=<span class="string">"1"</span> <span class="attr">max</span>=<span class="string">"150"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>爱好<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"hobbies"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="edit-html"><a href="#edit-html" class="headerlink" title="edit.html"></a>edit.html</h3><ol>
<li>注意id在mongodb中是 （ _id )</li>
<li>修改需要提交  id、name、age、gender、hobbies</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"sub-header"</span>&gt;</span>添加学生<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/students/edit"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">          </span><br><span class="line">          <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            用来放一些不希望被用户看见，但是需要被提交到服务端的数据</span></span><br><span class="line"><span class="comment">           --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123; student._id &#125;&#125;"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">required</span> <span class="attr">minlength</span>=<span class="string">"2"</span> <span class="attr">maxlength</span>=<span class="string">"10"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123; student.name &#125;&#125;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"radio-inline"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"0"</span> <span class="attr">checked</span>&gt;</span> 男</span><br><span class="line">              <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"radio-inline"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span> 女</span><br><span class="line">              <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123; student.age &#125;&#125;"</span> <span class="attr">required</span> <span class="attr">min</span>=<span class="string">"1"</span> <span class="attr">max</span>=<span class="string">"150"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">""</span>&gt;</span>爱好<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">name</span>=<span class="string">"hobbies"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123; student.hobbies &#125;&#125;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h4><ol>
<li>模板循环语法each</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table table-striped"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>#<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>性别<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>爱好<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                  &#123;&#123; each students &#125;&#125;</span><br><span class="line">                  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $index &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.gender &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.age &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; $value.hobbies &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/students/edit?id=&#123;&#123; $value.id &#125;&#125;"</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/students/delete?id=&#123;&#123; $value.id &#125;&#125;"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                  &#123;&#123; /each &#125;&#125;</span><br><span class="line">              <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/09/08/node-mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/09/08/node-mysql/" class="post-title-link" itemprop="url">Node+mysql</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-08 15:02:00" itemprop="dateCreated datePublished" datetime="2019-09-08T15:02:00+08:00">2019-09-08</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node/" itemprop="url" rel="index"><span itemprop="name">Node</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="使用Node操作MySQL数据库"><a href="#使用Node操作MySQL数据库" class="headerlink" title="使用Node操作MySQL数据库"></a>使用Node操作MySQL数据库</h1><p>安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mysql = <span class="built_in">require</span>(<span class="string">'mysql'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 创建连接</span></span><br><span class="line"><span class="keyword">var</span> connection = mysql.createConnection(&#123;</span><br><span class="line">  host: <span class="string">'localhost'</span>,</span><br><span class="line">  user: <span class="string">'root'</span>,</span><br><span class="line">  password: <span class="string">'123456'</span>,</span><br><span class="line">  database: <span class="string">'users'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 连接数据库 打开冰箱门</span></span><br><span class="line">connection.connect();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 执行数据操作 把大象放到冰箱</span></span><br><span class="line">connection.query(<span class="string">'SELECT * FROM `users`'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">error, results, fields</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'The solution is: '</span>, results);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// connection.query('INSERT INTO users VALUES(NULL, "admin", "123456")', function (error, results, fields) &#123;</span></span><br><span class="line"><span class="comment">//   if (error) throw error;</span></span><br><span class="line"><span class="comment">//   console.log('The solution is: ', results);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 关闭连接 关闭冰箱门</span></span><br><span class="line">connection.end();</span><br></pre></td></tr></table></figure>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
      

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  

  <div class="post-block" 
  style="
    margin-top: 0px;
    margin-bottom: 0px;
    padding:50px 20px 70px 20px;
    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);"
  >

    <link itemprop="mainEntityOfPage" href="https://shh33.github.io/2019/09/08/mongoose/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="shh33">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/cc.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="shh33">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2019/09/08/mongoose/" class="post-title-link" itemprop="url">mongoose</a>
          
        </h1>

        <div class="post-meta">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-08 15:01:00" itemprop="dateCreated datePublished" datetime="2019-09-08T15:01:00+08:00">2019-09-08</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-23 16:04:39" itemprop="dateModified" datetime="2019-12-23T16:04:39+08:00">2019-12-23</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Node/" itemprop="url" rel="index"><span itemprop="name">Node</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="mongoose"><a href="#mongoose" class="headerlink" title="mongoose"></a>mongoose</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mongoose</span><br></pre></td></tr></table></figure>

<h2 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Schema = mongoose.Schema</span><br></pre></td></tr></table></figure>

<p>##连接数据库</p>
<ol>
<li>指定连接的数据库不需要存在，当你插入第一条数据之后就会自动被创建出来</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongoose.connect(<span class="string">'mongodb://localhost/itcast'</span>)</span><br></pre></td></tr></table></figure>

<p>##设计文档结构（表结构）</p>
<blockquote>
<ol>
<li>字段名称就是表结构中的属性名称</li>
<li>约束的目的是为了保证数据的完整性，不要有脏数据</li>
</ol>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userSchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">  username: &#123;</span><br><span class="line">    type: <span class="built_in">String</span>,</span><br><span class="line">    required: <span class="literal">true</span> <span class="comment">// 必须有</span></span><br><span class="line">  &#125;,</span><br><span class="line">  password: &#123;</span><br><span class="line">    type: <span class="built_in">String</span>,</span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  email: &#123;</span><br><span class="line">    type: <span class="built_in">String</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>##将文档结构发布为模型</p>
<blockquote>
<p>mongoose.model 方法就是用来将一个架构发布为 model<br>第一个参数：传入一个大写名词单数字符串用来表示你的数据库名称<br>                       mongoose 会自动将大写名词的字符串生成 小写复数 的集合名称<br>                       例如这里的 User 最终会变为 users 集合名称<br>第二个参数：架构 Schema<br>返回值：<strong>模型构造函数</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> User = mongoose.model(<span class="string">'User'</span>, userSchema)</span><br></pre></td></tr></table></figure>

<p>##当我们有了模型构造函数之后，就可以使用这个构造函数对 users 集合中的数据为所欲为了（增删改查）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **********************</span></span><br><span class="line"><span class="comment">// #region /新增数据</span></span><br><span class="line"><span class="comment">// **********************</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> admin = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    username: <span class="string">'zs'</span>,</span><br><span class="line">    password: <span class="string">'123456'</span>,</span><br><span class="line">    email: <span class="string">'admin@admin.com'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">admin.save(<span class="function"><span class="keyword">function</span> (<span class="params">err, ret</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'保存失败'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'保存成功'</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(ret)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **********************</span></span><br><span class="line"><span class="comment">// #region /查询数据</span></span><br><span class="line"><span class="comment">// **********************</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//查找所有</span></span><br><span class="line"> User.find(<span class="function"><span class="keyword">function</span> (<span class="params">err, ret</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (err) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'查询失败'</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(ret)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//按条件查询所有</span></span><br><span class="line"> User.find(&#123;</span><br><span class="line">   username: <span class="string">'zs'</span></span><br><span class="line"> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, ret</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (err) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'查询失败'</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(ret)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//条件查询</span></span><br><span class="line"> User.findOne(&#123;</span><br><span class="line">   username: <span class="string">'zs'</span>,</span><br><span class="line">   password: <span class="string">'12345678'</span></span><br><span class="line"> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, ret</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (err) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'查询失败'</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(ret)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据id查询</span></span><br><span class="line">User.findById()</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **********************</span></span><br><span class="line"><span class="comment">// #region /删除数据</span></span><br><span class="line"><span class="comment">// **********************</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//移除所有符合条件的</span></span><br><span class="line"> User.remove(&#123;</span><br><span class="line">   username: <span class="string">'zs'</span></span><br><span class="line"> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, ret</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (err) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'删除失败'</span>)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'删除成功'</span>)</span><br><span class="line">     <span class="built_in">console</span>.log(ret)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据ID删除</span></span><br><span class="line">User.findByIdAndRemove()</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **********************</span></span><br><span class="line"><span class="comment">// #region /更新数据</span></span><br><span class="line"><span class="comment">// **********************</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//根据id更新一个</span></span><br><span class="line">User.findByIdAndUpdate(<span class="string">'5a001b23d219eb00c8581184'</span>, &#123;</span><br><span class="line">    password: <span class="string">'123'</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, ret</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'更新失败'</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'更新成功'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据指定条件更新一个</span></span><br><span class="line">User.findOneAndUpdate()</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据条件更新所有</span></span><br><span class="line">User.update()</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc" data-target="post-toc-wrap">
          文章目录
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview-wrap">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/cc.jpg"
      alt="shh33">
  <p class="site-author-name" itemprop="name">shh33</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/shh33" title="GitHub &rarr; https://github.com/shh33" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
  </div>



        </div>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" style="text-align:center">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">shh33</span>
</div>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div style="text-align:center">
	  <span id="busuanzi_container_site_uv">Total visited <span id="busuanzi_value_site_uv"></span> times</span>
</div>

        












        
      </div>
    </footer>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script>
<script src="/js/schemes/muse.js?v=7.3.0"></script>

<script src="/js/next-boot.js?v=7.3.0"></script>



  








  <script src="/js/local-search.js?v=7.3.0"></script>














  

  

  


  
</body>
</html>
